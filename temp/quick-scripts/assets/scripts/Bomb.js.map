{"version":3,"sources":["Bomb.js"],"names":["cc","Class","extends","Component","properties","blastPrefab","default","type","Prefab","explode","enlarge","scaleBy","sequence","produceBlast","fireBlast","instantiate","parent","addChild","setPosition","node","getPosition","destroy","onLoad","timer","end","runAction","start","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA;AADL,KAHP;;AAULC,WAVK,qBAUI;AACL,YAAIC,UAAUV,GAAGW,OAAH,CAAW,GAAX,EAAgB,GAAhB,CAAd;AACA,eAAOX,GAAGY,QAAH,CAAYF,OAAZ,EAAoBA,OAApB,EAA4BA,OAA5B,CAAP;AAEH,KAdI;AAgBLG,gBAhBK,0BAgBU;AACX,YAAIC,YAAYd,GAAGe,WAAH,CAAe,KAAKV,WAApB,CAAhB;AACA,aAAKW,MAAL,CAAYC,QAAZ,CAAqBH,SAArB;AACAA,kBAAUI,WAAV,CAAsB,KAAKC,IAAL,CAAUC,WAAV,EAAtB;AACA,aAAKD,IAAL,CAAUE,OAAV;AACH,KArBI;;;AAuBL;;AAEAC,UAzBK,oBAyBK;AACN,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,GAAL,GAAW,GAAX;AACA,aAAKL,IAAL,CAAUM,SAAV,CAAoB,KAAKhB,OAAL,EAApB;AACH,KA7BI;AA+BLiB,SA/BK,mBA+BI;AACL,aAAKV,MAAL,GAAc,KAAKG,IAAL,CAAUH,MAAxB;AACH,KAjCI;AAmCLW,UAnCK,kBAmCGC,EAnCH,EAmCO;AACR,YAAG,KAAKL,KAAL,IAAc,KAAKC,GAAtB,EAA0B;AACtB,iBAAKD,KAAL,GAAa,CAAb;AACA,iBAAKV,YAAL;AACH;;AAED,aAAKU,KAAL,IAAcK,EAAd;AACH;AA1CI,CAAT","file":"Bomb.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        blastPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n    },\r\n\r\n    explode(){\r\n        var enlarge = cc.scaleBy(0.5, 1.3);\r\n        return cc.sequence(enlarge,enlarge,enlarge);\r\n\r\n    },\r\n\r\n    produceBlast() {\r\n        var fireBlast = cc.instantiate(this.blastPrefab);\r\n        this.parent.addChild(fireBlast);\r\n        fireBlast.setPosition(this.node.getPosition());\r\n        this.node.destroy();\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.timer = 0;\r\n        this.end = 1.5;\r\n        this.node.runAction(this.explode());\r\n    },\r\n\r\n    start () {\r\n        this.parent = this.node.parent;\r\n    },\r\n\r\n    update (dt) {\r\n        if(this.timer >= this.end){\r\n            this.timer = 0;\r\n            this.produceBlast();\r\n        }\r\n\r\n        this.timer += dt;\r\n    },\r\n});\r\n"]}